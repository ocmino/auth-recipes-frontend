{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanlindqvist/auth-frontend-application-test/src/Components/Recipes.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Recipes() {\n  _s();\n  const [recipeName, setRecipeName] = useState('');\n  const [recipe, setRecipe] = useState({});\n  const [ingredients, setIngredients] = useState([]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    if (!token) {\n      window.location.href = '/login';\n      return;\n    }\n    const decoded = jwt_decode(token);\n    if (decoded.user.role !== 'admin') {\n      window.location.href = '/';\n      return;\n    }\n    axios.get(`http://localhost:8080/getRecipe?name=${recipeName}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setRecipe(res.data.recipe);\n      setIngredients(res.data.ingredients);\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"recipeName\",\n        children: \"Recipe Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"recipeName\",\n        value: recipeName,\n        onChange: e => setRecipeName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), recipe ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: recipe.recipeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Prep Time: \", recipe.prepTime]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Cook Time: \", recipe.cookTime]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Servings: \", recipe.servings]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Instructions: \", recipe.instructions]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Ingredients\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: ingredients.map(ingredient => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [ingredient.ingredientName, \" - \", ingredient.quantity]\n        }, ingredient.ingredientId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n_s(Recipes, \"dgWeCKjiNbQiIgft5qpQrecKSrg=\");\n_c = Recipes;\nexport default Recipes;\nvar _c;\n$RefreshReg$(_c, \"Recipes\");","map":{"version":3,"names":["React","useState","axios","jwt_decode","Recipes","recipeName","setRecipeName","recipe","setRecipe","ingredients","setIngredients","handleSubmit","e","preventDefault","token","localStorage","getItem","window","location","href","decoded","user","role","get","headers","Authorization","then","res","data","catch","err","console","log","target","value","prepTime","cookTime","servings","instructions","map","ingredient","ingredientName","quantity","ingredientId"],"sources":["/Users/jonathanlindqvist/auth-frontend-application-test/src/Components/Recipes.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\n\nfunction Recipes() {\n    const [recipeName, setRecipeName] = useState('');\n    const [recipe, setRecipe] = useState({});\n    const [ingredients, setIngredients] = useState([]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const token = localStorage.getItem('token');\n        if (!token) {\n            window.location.href = '/login';\n            return;\n        }\n\n        const decoded = jwt_decode(token);\n        if (decoded.user.role !== 'admin') {\n            window.location.href = '/';\n            return;\n        }\n\n        axios.get(`http://localhost:8080/getRecipe?name=${recipeName}`, {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        })\n            .then(res => {\n                setRecipe(res.data.recipe);\n                setIngredients(res.data.ingredients);\n            })\n            .catch(err => console.log(err));\n    }\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"recipeName\">Recipe Name</label>\n                <input\n                    type=\"text\"\n                    id=\"recipeName\"\n                    value={recipeName}\n                    onChange={(e) => setRecipeName(e.target.value)}\n                />\n                <button type=\"submit\">Search</button>\n            </form>\n            {recipe ? (\n                <div>\n                    <h1>{recipe.recipeName}</h1>\n                    <p>Prep Time: {recipe.prepTime}</p>\n                    <p>Cook Time: {recipe.cookTime}</p>\n                    <p>Servings: {recipe.servings}</p>\n                    <p>Instructions: {recipe.instructions}</p>\n                    <h2>Ingredients</h2>\n                    <ul>\n                        {ingredients.map(ingredient => (\n                            <li key={ingredient.ingredientId}>{ingredient.ingredientName} - {ingredient.quantity}</li>\n                        ))}\n                    </ul>\n                </div>\n            ) : null}\n        </div>\n    )\n}\n\nexport default Recipes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}